(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const r of l.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&i(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerpolicy&&(l.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?l.credentials="include":o.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=n(o);fetch(o.href,l)}})();function E(){}function wt(t){return t()}function dt(){return Object.create(null)}function N(t){t.forEach(wt)}function Gt(t){return typeof t=="function"}function vt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Lt(t){return Object.keys(t).length===0}function d(t,e){t.appendChild(e)}function k(t,e,n){t.insertBefore(e,n||null)}function y(t){t.parentNode.removeChild(t)}function p(t){return document.createElement(t)}function S(t){return document.createTextNode(t)}function M(){return S(" ")}function L(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function ft(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ct(t){return Array.from(t.childNodes)}function C(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function mt(t,e){t.value=e==null?"":e}function pt(t,e,n,i){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function _t(t,e,n){t.classList[n?"add":"remove"](e)}let ct;function Q(t){ct=t}const K=[],ht=[],$=[],gt=[],Nt=Promise.resolve();let rt=!1;function Ft(){rt||(rt=!0,Nt.then(Pt))}function st(t){$.push(t)}const it=new Set;let x=0;function Pt(){const t=ct;do{for(;x<K.length;){const e=K[x];x++,Q(e),Ot(e.$$)}for(Q(null),K.length=0,x=0;ht.length;)ht.pop()();for(let e=0;e<$.length;e+=1){const n=$[e];it.has(n)||(it.add(n),n())}$.length=0}while(K.length);for(;gt.length;)gt.pop()();rt=!1,it.clear(),Q(t)}function Ot(t){if(t.fragment!==null){t.update(),N(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(st)}}const tt=new Set;let O;function Bt(){O={r:0,c:[],p:O}}function Wt(){O.r||N(O.c),O=O.p}function et(t,e){t&&t.i&&(tt.delete(t),t.i(e))}function ut(t,e,n,i){if(t&&t.o){if(tt.has(t))return;tt.add(t),O.c.push(()=>{tt.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function jt(t){t&&t.c()}function Tt(t,e,n,i){const{fragment:o,on_mount:l,on_destroy:r,after_update:s}=t.$$;o&&o.m(e,n),i||st(()=>{const a=l.map(wt).filter(Gt);r?r.push(...a):N(a),t.$$.on_mount=[]}),s.forEach(st)}function Mt(t,e){const n=t.$$;n.fragment!==null&&(N(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Rt(t,e){t.$$.dirty[0]===-1&&(K.push(t),Ft(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Et(t,e,n,i,o,l,r,s=[-1]){const a=ct;Q(t);const u=t.$$={fragment:null,ctx:null,props:l,update:E,not_equal:o,bound:dt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:dt(),dirty:s,skip_bound:!1,root:e.target||a.$$.root};r&&r(u.root);let g=!1;if(u.ctx=n?n(t,e.props||{},(m,c,..._)=>{const P=_.length?_[0]:c;return u.ctx&&o(u.ctx[m],u.ctx[m]=P)&&(!u.skip_bound&&u.bound[m]&&u.bound[m](P),g&&Rt(t,m)),c}):[],u.update(),g=!0,N(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const m=Ct(e.target);u.fragment&&u.fragment.l(m),m.forEach(y)}else u.fragment&&u.fragment.c();e.intro&&et(t.$$.fragment),Tt(t,e.target,e.anchor,e.customElement),Pt()}Q(a)}class It{$destroy(){Mt(this,1),this.$destroy=E}$on(e,n){const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!Lt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function qt(t){let e,n;return{c(){e=p("div"),n=S(t[0])},m(i,o){k(i,e,o),d(e,n)},p(i,[o]){o&1&&C(n,i[0])},i:E,o:E,d(i){i&&y(e)}}}function lt(t,e){return"0".repeat(e-t.length)+t}function yt(t){let e=lt(Math.floor(t%1e3/10).toString(),2);t=Math.floor(t/1e3);let n=lt(Math.floor(t%60).toString(),2);t=Math.floor(t/60);let i=lt((t%60).toString(),2);return t=Math.floor(t/60),`${t}:${i}:${n}.${e}`}function Yt(t,e,n){let{startTime:i}=e,{penalty:o}=e,l=yt(new Date().getTime()-i.getTime()+o*1e3),{updateInterval:r=50}=e;return setInterval(()=>{n(0,l=yt(new Date().getTime()-i.getTime()+o*1e3))},r),t.$$set=s=>{"startTime"in s&&n(1,i=s.startTime),"penalty"in s&&n(2,o=s.penalty),"updateInterval"in s&&n(3,r=s.updateInterval)},[l,i,o,r]}class Zt extends It{constructor(e){super(),Et(this,e,Yt,qt,vt,{startTime:1,penalty:2,updateInterval:3})}}const zt=[{name:"Branner Hall",coords:[37.42553,-122.16283]},{name:"Wilbur Field",coords:[37.423124361772416,-122.16431887199543],threshold:180},{name:"Main Quad",coords:[37.42748275149643,-122.17025275417396]},{name:"The Oval",coords:[37.42986464063749,-122.16947271339265]},{name:"Frost Ampitheater Entrance",coords:[37.430998455185204,-122.16670399216976]},{name:"Crothers Hall",coords:[37.42556210348843,-122.1653086085956]},{name:"Stern Hall",coords:[37.424472336107904,-122.16565530784969],threshold:230},{name:"Wilbur Hall",coords:[37.42401338462797,-122.16314160470047],threshold:230},{name:"Hoover Tower Fountain",coords:[37.42834521662245,-122.16675560189806]},{name:"Roble Field",coords:[37.42635374435134,-122.17592710799053],threshold:200},{name:"Stanford Bookstore",coords:[37.424818758779416,-122.16864096711038]}],Jt=20902e3;function U(t,e,n,i){const o=t*Math.PI/180,l=n*Math.PI/180,r=e*Math.PI/180,s=i*Math.PI/180,a=(o+l)/2;return Jt*Math.sqrt((l-o)**2+Math.cos(a*Math.PI/180)**2*(s-r)**2)}function Kt(t){return(e,n)=>U(e.coords[0],e.coords[1],t.latitude,t.longitude)-U(n.coords[0],n.coords[1],t.latitude,t.longitude)}const Qt=["N","NE","E","SE","S","SW","W","NW","N"];function Ut(t,e,n,i){var l=Math.atan2(i-e,n-t)*(180/Math.PI),r=Math.round(l/45);return r<0&&(r=r+8),Qt[r]}function Vt(t){let e,n,i,o,l,r,s,a,u,g;return{c(){e=p("p"),n=p("button"),n.textContent="<",i=S(`
			Difficulty: `),o=S(t[7]),l=M(),r=p("button"),r.textContent=">",s=M(),a=p("button"),a.textContent="Start Game"},m(m,c){k(m,e,c),d(e,n),d(e,i),d(e,o),d(e,l),d(e,r),k(m,s,c),k(m,a,c),u||(g=[L(n,"click",t[19]),L(r,"click",t[20]),L(a,"click",t[14])],u=!0)},p(m,c){c[0]&128&&C(o,m[7])},i:E,o:E,d(m){m&&y(e),m&&y(s),m&&y(a),u=!1,N(g)}}}function Xt(t){let e,n,i,o,l,r,s,a,u,g=t[1].name+"",m,c,_,P,I,F,V,D,T,G,B,W,j,R,Y,Z,H,z,X;_=new Zt({props:{startTime:t[3],penalty:t[4]}});let v=t[9]&&bt(t),w=t[10]&&kt(t);return{c(){e=p("div"),n=p("p"),i=S("Goal:"),o=p("br"),l=S("Get within "),r=S(t[2]),s=S(" ft of:"),a=M(),u=p("h2"),m=S(g),c=M(),jt(_.$$.fragment),P=M(),I=p("div"),F=p("button"),F.textContent=`Give Distance Hint (+${Ht}s)`,V=M(),v&&v.c(),D=M(),T=p("div"),G=p("button"),G.textContent=`Give Direction Hint (+${At}s)`,B=M(),w&&w.c(),W=M(),j=p("div"),R=p("p"),Y=S("Score: "),Z=S(t[12]),pt(n,"margin-bottom","5px"),pt(u,"margin-top","5px")},m(f,b){k(f,e,b),d(e,n),d(n,i),d(n,o),d(n,l),d(n,r),d(n,s),d(e,a),d(e,u),d(u,m),k(f,c,b),Tt(_,f,b),k(f,P,b),k(f,I,b),d(I,F),d(I,V),v&&v.m(I,null),k(f,D,b),k(f,T,b),d(T,G),d(T,B),w&&w.m(T,null),k(f,W,b),k(f,j,b),d(j,R),d(R,Y),d(R,Z),H=!0,z||(X=[L(F,"click",t[15]),L(G,"click",t[16])],z=!0)},p(f,b){(!H||b[0]&4)&&C(r,f[2]),(!H||b[0]&2)&&g!==(g=f[1].name+"")&&C(m,g);const J={};b[0]&8&&(J.startTime=f[3]),b[0]&16&&(J.penalty=f[4]),_.$set(J),f[9]?v?v.p(f,b):(v=bt(f),v.c(),v.m(I,null)):v&&(v.d(1),v=null),f[10]?w?w.p(f,b):(w=kt(f),w.c(),w.m(T,null)):w&&(w.d(1),w=null),(!H||b[0]&4096)&&C(Z,f[12])},i(f){H||(et(_.$$.fragment,f),H=!0)},o(f){ut(_.$$.fragment,f),H=!1},d(f){f&&y(e),f&&y(c),Mt(_,f),f&&y(P),f&&y(I),v&&v.d(),f&&y(D),f&&y(T),w&&w.d(),f&&y(W),f&&y(j),z=!1,N(X)}}}function xt(t){let e;return{c(){e=p("p"),e.textContent="Awaiting GPS coordinates..."},m(n,i){k(n,e,i)},p:E,i:E,o:E,d(n){n&&y(e)}}}function $t(t){let e,n;return{c(){e=p("p"),n=S(t[5])},m(i,o){k(i,e,o),d(e,n)},p(i,o){o[0]&32&&C(n,i[5])},i:E,o:E,d(i){i&&y(e)}}}function bt(t){let e,n,i=t[9].toFixed(0)+"",o,l;return{c(){e=p("p"),n=S("You are "),o=S(i),l=S(" feet away.")},m(r,s){k(r,e,s),d(e,n),d(e,o),d(e,l)},p(r,s){s[0]&512&&i!==(i=r[9].toFixed(0)+"")&&C(o,i)},d(r){r&&y(e)}}}function kt(t){let e,n,i,o;return{c(){e=p("p"),n=S("The goal is "),i=S(t[10]),o=S(" of here.")},m(l,r){k(l,e,r),d(e,n),d(e,i),d(e,o)},p(l,r){r[0]&1024&&C(i,l[10])},d(l){l&&y(e)}}}function te(t){let e,n,i,o,l,r,s=t[11]&&St(t);return{c(){e=p("div"),n=S("Spoofing: "),i=p("input"),o=M(),s&&s.c(),ft(i,"type","checkbox")},m(a,u){k(a,e,u),d(e,n),d(e,i),i.checked=t[11],d(e,o),s&&s.m(e,null),l||(r=L(i,"change",t[21]),l=!0)},p(a,u){u[0]&2048&&(i.checked=a[11]),a[11]?s?s.p(a,u):(s=St(a),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(a){a&&y(e),s&&s.d(),l=!1,r()}}}function St(t){let e,n,i;return{c(){e=p("input"),ft(e,"type","text")},m(o,l){k(o,e,l),mt(e,t[0]),n||(i=[L(e,"input",t[22]),L(e,"input",t[17])],n=!0)},p(o,l){l[0]&1&&e.value!==o[0]&&mt(e,o[0])},d(o){o&&y(e),n=!1,N(i)}}}function ee(t){let e,n,i,o,l,r,s;const a=[$t,xt,Xt,Vt],u=[];function g(c,_){return c[5]?0:c[6]==="AwaitingGPS"?1:c[6]==="Playing"?2:3}o=g(t),l=u[o]=a[o](t);let m=t[13]&&te(t);return{c(){e=p("main"),n=p("h1"),n.textContent="Stanford Hunt",i=M(),l.c(),r=M(),m&&m.c(),ft(e,"class","svelte-9xmzfe"),_t(e,"flash",t[8])},m(c,_){k(c,e,_),d(e,n),d(e,i),u[o].m(e,null),d(e,r),m&&m.m(e,null),s=!0},p(c,_){let P=o;o=g(c),o===P?u[o].p(c,_):(Bt(),ut(u[P],1,1,()=>{u[P]=null}),Wt(),l=u[o],l?l.p(c,_):(l=u[o]=a[o](c),l.c()),et(l,1),l.m(e,r)),c[13]&&m.p(c,_),(!s||_[0]&256)&&_t(e,"flash",c[8])},i(c){s||(et(l),s=!0)},o(c){ut(l),s=!1},d(c){c&&y(e),u[o].d(),m&&m.d()}}}const ne=100,Ht=10,At=20;function oe(t,e,n){const i={Easy:[300,1500],Medium:[1e3,3e3],Hard:[2e3,5e3]};let o=null,l=null,r,s=null,a,u="",g="BeforeStart",m=zt,c="Easy",_=["Easy","Medium","Hard"],P=!1,I=null,F="",V=!1,D=!1,T="",G=[0,0],B=0;function W(h){var at;let q=m.filter(nt=>{let ot=U(nt.coords[0],nt.coords[1],h.coords.latitude,h.coords.longitude);return ot>=i[c][0]&&ot<=i[c][1]&&ot>nt.threshold}),A;return q.length===0?A=m.sort(Kt(h.coords))[0]:A=q[Math.floor(Math.random()*q.length)],n(2,r=(at=A==null?void 0:A.threshold)!=null?at:ne),A}function j(){n(6,g="AwaitingGPS"),Z()}function R(h){n(12,B++,B),navigator.vibrate(100),n(8,P=!0),setTimeout(()=>{n(8,P=!1)},1e3),n(1,o=W(h)),Y()}function Y(){n(4,a=0),n(3,s=new Date)}function Z(){if(navigator.geolocation)navigator.geolocation.watchPosition(h=>{D||H(h)},h=>{switch(h.code){case 1:n(5,u="GPS is currently disabled, so this game does not work. Try enabling it in settings.");break;default:n(5,u="An error occurred while attempting to get GPS position.");break}});else return n(5,u="Your device/browser does not support GPS."),!1}function H(h){l=h,g==="AwaitingGPS"&&(n(1,o=W(h)),Y(),n(6,g="Playing")),U(o.coords[0],o.coords[1],h.coords.latitude,h.coords.longitude)<=r&&R(h)}function z(){n(9,I=U(l.coords.latitude,l.coords.longitude,o.coords[0],o.coords[1])),n(4,a+=Ht)}function X(){n(10,F=Ut(l.coords.latitude,l.coords.longitude,o.coords[0],o.coords[1])),n(4,a+=At)}function v(){if(D&&(g==="AwaitingGPS"||g==="Playing")){G=T.split(", ").map(q=>parseFloat(q));let h={coords:{latitude:G[0],longitude:G[1]}};H(h)}}function w(h){let A=_.indexOf(c)+h;A<0||A>=_.length||n(7,c=_[A])}const f=()=>w(-1),b=()=>w(1);function J(){D=this.checked,n(11,D)}function Dt(){T=this.value,n(0,T)}return t.$$.update=()=>{t.$$.dirty[0]&1&&(G=T.split(", ").map(h=>parseFloat(h)))},[T,o,r,s,a,u,g,c,P,I,F,D,B,V,j,z,X,v,w,f,b,J,Dt]}class ie extends It{constructor(e){super(),Et(this,e,oe,ee,vt,{},null,[-1,-1])}}new ie({target:document.getElementById("app")});
